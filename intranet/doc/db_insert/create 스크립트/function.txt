
/*
공통코드 값 가져오기 첫번째형태
부모가 같은 형태에서 부여된 코드로 결과 가져오기
*/
CREATE OR REPLACE FUNCTION         F_GET_CODE_NM (
    P_UPPER_CODE_NO VARCHAR2,
    P_CODE VARCHAR2
    )
       RETURN VARCHAR2
IS
V_CODE_NM VARCHAR2(100);
BEGIN

SELECT CODE_NM INTO  V_CODE_NM
FROM COM_CODE 
WHERE CODE  = P_CODE 
AND UPPER_CODE_NO = P_UPPER_CODE_NO;
 RETURN V_CODE_NM;
END;
/

/*
공통코드 값 가져오기 두번째형태
코드테이블 키값을 가지고 결과 갑 가져오기
*/
CREATE OR REPLACE FUNCTION         F_GET_CODE_NM2 (
    P_CODE_NO VARCHAR2
    )
       RETURN VARCHAR2
IS
V_CODE_NM VARCHAR2(100);
BEGIN

SELECT CODE_NM INTO  V_CODE_NM
FROM COM_CODE 
WHERE CODE_NO  = P_CODE_NO
AND ROWNUM =1; 
 RETURN V_CODE_NM;
END;
/
